{% extends 'employee/main.html' %}
{% load static %}
{% block content %}
<div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top " id="navigation-example">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <a class="navbar-brand" href="javascript:void(0)">User Profile</a>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation" data-target="#navigation-example">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end">
            <form class="navbar-form">
              <div class="input-group no-border">
                <input type="text" value="" class="form-control" placeholder="Search...">
                <button type="submit" class="btn btn-default btn-round btn-just-icon">
                  <i class="material-icons">search</i>
                  <div class="ripple-container"></div>
                </button>
              </div>
            </form>
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="/dashboard/">
                  <i class="material-icons">dashboard</i>
                  <p class="d-lg-none d-md-block">
                    Stats
                  </p>
                </a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href="javscript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">notifications</i>
                  <span class="notification">5</span>
                  <p class="d-lg-none d-md-block">
                    Some Actions
                  </p>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="javascript:void(0)">Mike John responded to your email</a>
                  <a class="dropdown-item" href="javascript:void(0)">You have 5 new tasks</a>
                  <a class="dropdown-item" href="javascript:void(0)">You're now friend with Andrew</a>
                  <a class="dropdown-item" href="javascript:void(0)">Another Notification</a>
                  <a class="dropdown-item" href="javascript:void(0)">Another One</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href="javscript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">person</i>
                  <p class="d-lg-none d-md-block">
                    Some Actions
                  </p>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="/user/">{{ request.user }}</a>
                  <a class="dropdown-item" href="/logout/">Logout</a>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->
      <div class="content">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-8">
              <div class="card">
                <div class="card-header card-header-primary">
                  <h4 class="card-title">Edit Profile</h4>
                  <p class="card-category">Complete your profile</p>
                </div>
                <div class="card-body">
                  <form>
                    <div class="row">
                      <div class="col-md-5">
                        <div class="form-group">
                          <label class="bmd-label-floating">Fire.Net</label>
                          <input type="text" class="form-control" disabled value="Fire.Net.Pk">
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label class="bmd-label-floating">Phone Number</label>
                          <input type="text" class="form-control" value="{{ employee.phone_number  }}" disabled>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label class="bmd-label-floating">Email address</label>
                          <input type="email" class="form-control" value="{{ employee.first_name  }}@gmail.com" disabled>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label class="bmd-label-floating">Fist Name</label>
                          <input type="text" class="form-control" value="{{ employee.first_name  }}" disabled>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label class="bmd-label-floating">Last Name</label>
                          <input type="text" class="form-control" value="{{ employee.last_name  }}" disabled>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <div class="form-group">
                          <label class="bmd-label-floating">Address</label>
                          <input type="text" class="form-control" value="{{ employee.address }}" disabled>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-4">
                        <div class="form-group">
                          <label class="bmd-label-floating">City</label>
                          <input type="text" class="form-control" value="Lahore" disabled>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label class="bmd-label-floating">Country</label>
                          <input type="text" class="form-control" value="Pakistan" disabled>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label class="bmd-label-floating">CNIC</label>
                          <input type="text" class="form-control" value="{{ employee.cnic }}" disabled>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <div class="form-group">
                          <div class="form-group">
                            <label class="bmd-label-floating">Designation</label>
                            <input class="form-control" value="{{ employee.designation.all|join:',' }}" disabled></input>
                          </div>
                        </div>
                      </div>
                    </div>
                    <button type="submit" class="btn btn-primary pull-right"><a href="/updateEmployee/{{ employee.id }}">Update Profile</a></button>
                    <div class="clearfix"></div>
                  </form>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card card-profile">
                <div class="card-avatar">
                  <a href="#pablo">
                    <img class="img" src="{% static 'img/faces/marc.jpg' %}" />
                  </a>
                </div>
                <div class="card-body">
                  <h6 class="card-category">Attendance Record</h6>
                  <h4 class="card-title">{{ employee.first_name  }}</h4>
                  <p class="card-description">
                    <table style="border:none;">
                    <tr>
                    <td>Present<br id="present">{{ presentMonth }}</td>
                    <td>Absent<br id="absent">{{ absent }}</td>
                    <td>Leave<br id="leave">{{ leave }}</td>
                    </tr>
                    <tr>
                    <td>Half Time<br id="halfTime">{{ halfTime }}</td>
                    <td>Perfomance<br id="perfomance">{{ perfomance }}</td>
                    <td>Salary Count<br id="salary">{{ Tsalary|floatformat:0 }}</td>
                    </tr>
                    </table>
                  </p>
                  <a href="/payslip/{{ employee.id }}" class="btn btn-primary btn-round">Print</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

            
            <div class="col-md-12">
              <div class="card">
                <div class="card-header card-header-primary">
                  <h4 class="card-title ">Attendances</h4>
                  <p class="card-category">
                  <a href="/addAttendance/" class="btn" style=""><span class="material-icons" style="font-size: 20px;padding-bottom: 20px;">add</span>add attendance</a>
                  <form method="get">
                  <label>Status:</label>
                  {{ attendanceFilter.form.status }}
                  <label>Start Date:</label>
                  {{ attendanceFilter.form.startdate }}
                  <label>End Date:</label>
                  {{ attendanceFilter.form.enddate }}
                  <button type="submit" class="btn">Search</button>
                  </form>
                  </p>
                  <a>Showing Entries: {{ attendanceCount }}</a>
                </div>
                <div class="card-body">
                  <div class="table-responsive">
                    <table class="table">
                      <thead class=" text-primary">
                        <th>
                          ID
                        </th>
                        <th>
                          Employee
                        </th>
                        <th>
                          Status
                        </th>
                        <th>
                          Time And Date
                        </th>
                        <th>
                          Day
                        </th>
                        <th>
                          Update
                        </th>
                        <th>
                          Delete
                        </th>
                      </thead>
                      <tbody>
                        {% for attendance in attendances %}

                          <tr>
                          <td>{{ attendance.id }}</td>
                          <td><a href="/details/{{ attendance.employee.id }}">{{ attendance.employee }}</td>
                          <td>{{ attendance.status.attendance_choice }}</td>
                          <td>{{ attendance.date_created }}</td>
                          <td>{{ attendance.day }}</td>
                          <td><a class="btn btn-primary" href="/updateAttendance/{{ attendance.id }}">Update</a></td>
                          <td><a class="btn btn-danger" href="/deleteAttendance/{{ attendance.id }}">Delete</a></td>
                          </tr>

                        {% endfor %}
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>



{% endblock %}